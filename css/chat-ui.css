/* =========================================
   1. 基础布局 & 头部 (Layout & Header)
   ========================================= */
.chat-room-container {
    position: relative;
    height: 100%; width: 100%;
    overflow: hidden;
    display: flex; flex-direction: column;
}

.chat-abs-header {
    position: absolute; top: 0; left: 0; right: 0; height: 50px; z-index: 10;
}

.chat-header {
    height: 50px;
    display: flex; align-items: center; padding: 0 15px;
    background: rgba(255,255,255,0.7);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid rgba(0,0,0,0.03);
}

.chat-info h3 { font-size: 17px; font-weight: 600; margin: 0; line-height: 1.2; letter-spacing: -0.3px; }
.chat-info span { font-size: 11px; color: #999; font-weight: 500; }

.chat-abs-list {
    position: absolute; top: 50px; bottom: 80px; left: 0; right: 0;
    /* [关键] 强制保留滚动槽，防止内容增加时发生布局跳动 */
    overflow-y: scroll;
    scrollbar-gutter: stable;
    -webkit-overflow-scrolling: touch;
}

.chat-abs-footer {
    position: absolute; bottom: 0; left: 0; right: 0; z-index: 20;
}

/* =========================================
   2. 消息列表 & 气泡 (Message List & Bubbles)
   ========================================= */
.message-list {
    padding: 15px;
    display: flex; flex-direction: column; 
    gap: 15px; 
    min-height: 100%;
}

.msg-row-wrapper { display: flex; align-items: flex-end; width: 100%; position: relative; }

.msg-checkbox-col {
    width: 0; opacity: 0; display: flex; align-items: center; justify-content: center;
    padding-bottom: 10px; overflow: hidden;
    transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);
    flex-shrink: 0;
}
.message-list.multi-select-mode .msg-checkbox-col { width: 30px; opacity: 1; margin-right: 2px; }

.msg-row {
    display: flex; width: 100%; align-items: flex-end; gap: 8px;
    flex: 1; min-width: 0;
}
.msg-row.me { justify-content: flex-end; }
.msg-row.ai { justify-content: flex-start; }
.msg-row.selecting { pointer-events: none; opacity: 0.8; }

.msg-avatar {
    width: 36px; height: 36px; border-radius: 50%;
    background-color: #f0f0f0; background-size: cover; background-position: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    flex-shrink: 0;
}

/* [修复] 气泡容器 */
.msg-col { 
    display: flex; 
    flex-direction: column; 
    /* 增加宽度到 82% 以补偿滚动条占位，恢复宽敞感 */
    max-width: 82%; 
    width: fit-content;
    flex-shrink: 0; 
} 
.msg-row.me .msg-col { align-items: flex-end; }
.msg-row.ai .msg-col { align-items: flex-start; }

.bubble {
    padding: 12px 16px;
    border-radius: 20px;
    font-size: 15px;
    line-height: 1.6; /* 稍微增加行高，让排版更舒服 */
    letter-spacing: 0.01em;
    
    /* [排版优化] */
    word-wrap: break-word; 
    word-break: break-word; /* 必要时强制断行，防止撑破 */
    hyphens: auto;          /* 英文自动连字符，减少右侧参差不齐 */
    text-align: left;       /* 保持左对齐 */
    
    white-space: pre-wrap;
    position: relative;
    transition: transform 0.1s;
    width: fit-content;
    max-width: 100%;
}
.bubble:active { transform: scale(0.98); }

.msg-row.me .bubble {
    background: #4a4a4a;
    color: #fff;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    border-bottom-right-radius: 4px;
}

.msg-row.ai .bubble {
    background: #fff;
    color: #333;
    box-shadow: 0 2px 10px rgba(0,0,0,0.03);
    border: 1px solid rgba(0,0,0,0.02);
    border-bottom-left-radius: 4px;
}

.bubble img { border-radius: 18px; display: block; }

.quote-bubble {
    margin-top: 6px; background: rgba(0,0,0,0.04);
    padding: 8px 12px; border-radius: 12px;
    font-size: 12px; color: #666; max-width: 100%;
    border-left: 2px solid rgba(0,0,0,0.1);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

.system-msg-row { width: 100%; display: flex; justify-content: center; margin: 10px 0; }
.system-text {
    background: rgba(255,255,255,0.4); backdrop-filter: blur(10px);
    color: #999; font-size: 11px; font-weight: 500;
    padding: 6px 12px; border-radius: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
}

/* =========================================
   3. 输入区域 (Input Area)
   ========================================= */
.input-area {
    padding: 10px 10px 30px 10px; 
    background: rgba(255,255,255,0.8);
    backdrop-filter: blur(25px) saturate(180%);
    -webkit-backdrop-filter: blur(25px) saturate(180%);
    display: flex; align-items: center; 
    gap: 8px;
    border-top: 1px solid rgba(0,0,0,0.03);
    width: 100%; box-sizing: border-box;
}

.input-area > i {
    flex-shrink: 0; font-size: 28px; color: #888; cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    width: 32px; text-align: center;
}
.input-area > i.active { transform: rotate(45deg); color: #333; }

.input-box {
    flex: 1; min-width: 0;
    padding: 10px 14px;
    border-radius: 20px;
    border: 1px solid rgba(0,0,0.1);
    background: #fff;
    outline: none; font-size: 15px;
    height: 38px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
    transition: all 0.2s;
}
.input-box:focus { border-color: #bbb; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number] { -moz-appearance: textfield; }

.btn-group { display: flex; gap: 8px; flex-shrink: 0; }

.send-btn {
    width: 38px; height: 38px;
    border-radius: 50%; border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    color: white !important; font-size: 19px;
    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    flex-shrink: 0;
    border: 1px solid rgba(255,255,255,0.1); 
}

.send-btn:active { transform: scale(0.9); filter: brightness(0.9); }
.send-btn:disabled { background: #ccc !important; box-shadow: none !important; opacity: 0.6; cursor: not-allowed; }

/* 闪电按钮：深灰渐变 */
.btn-group .send-btn:first-child { 
    background: linear-gradient(145deg, #444, #222);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3); 
}

/* 发送箭头按钮：蓝色渐变 */
.btn-group .send-btn:last-child { 
    background: linear-gradient(145deg, #0088ff, #0066cc);
    box-shadow: 0 4px 12px rgba(0,122,25,0.4); 
}

.quote-banner {
    background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);
    padding: 10px 20px; font-size: 12px; color: #666;
    display: flex; justify-content: space-between; align-items: center;
    border-top: 1px solid rgba(0,0,0,0.05);
    box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
    z-index: 5; position: relative;
}
.quote-content { flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-right: 10px; font-weight: 500; }

/* =========================================
   4. 功能组件 (Widgets & Modals)
   ========================================= */

.recall-view-box {
    width: 100%;
    min-height: 100px;
    max-height: 300px;
    overflow-y: auto;
    padding: 15px;
    background: #f9f9f9;
    border-radius: 16px;
    color: #444;
    font-size: 14px;
    line-height: 1.6;
    border: 1px solid rgba(0,0,0,0.05);
    white-space: pre-wrap;
    user-select: text;
}

.advanced-mode-panel {
    margin-top: 15px;
    padding: 15px;
    background: rgba(255,255,255,0.4); 
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.5);
    animation: slideDown 0.3s cubic-bezier(0.19, 1, 0.22, 1);
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.styled-range {
    appearance: none; -webkit-appearance: none; width: 100%;
    background: #e0e0e0; height: 6px; border-radius: 3px;
    margin: 5px 0; cursor: pointer;
}
.styled-range:focus { outline: none; }
.styled-range::-webkit-slider-runnable-track { width: 100%; height: 6px; background: transparent; border: none; }
.styled-range::-webkit-slider-thumb {
    -webkit-appearance: none; height: 24px; width: 24px; border-radius: 50%;
    background: #fff; border: 1px solid rgba(0,0,0,0.05);
    box-shadow: 0 2px 8px rgba(0,0,0,0.15), 0 0 1px rgba(0,0,0,0.02);
    margin-top: -9px; transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s;
}
.styled-range:active::-webkit-slider-thumb { transform: scale(1.15); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

.segment-control {
    display: flex; background: rgba(0,0,0,0.05); border-radius: 12px;
    padding: 3px; width: 100%;
}
.segment-item {
    flex: 1; text-align: center; padding: 8px 0; font-size: 13px; font-weight: 500;
    color: #888; border-radius: 10px; cursor: pointer;
    transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}
.segment-item.active { background: #fff; color: #333; font-weight: 700; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }

.plus-menu {
    position: absolute; bottom: 90px; left: 15px; width: calc(100% - 30px);
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px);
    border-radius: 24px; padding: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0.15);
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px 10px;
    z-index: 50;
    animation: popUp 0.3s cubic-bezier(0.19, 1, 0.22, 1);
    border: 1px solid rgba(255,255,255,0.6);
}
@keyframes popUp { from { opacity: 0; transform: scale(0.95) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }

.plus-item { display: flex; flex-direction: column; align-items: center; gap: 8px; cursor: pointer; }
.plus-item:active { opacity: 0.6; transform: scale(0.95); transition: 0.1s; }
.plus-icon {
    width: 52px; height: 52px; border-radius: 18px;
    background: #f7f7f7; color: #333;
    display: flex; align-items: center; justify-content: center;
    font-size: 24px; transition: background 0.2s;
}
.plus-label { font-size: 11px; color: #555; font-weight: 500; margin-top: 2px; }

.emoji-panel {
    position: absolute; bottom: 90px; left: 15px; width: calc(100% - 30px); height: 280px;
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(30px);
    border-radius: 24px; padding: 0;
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    z-index: 50; display: flex; flex-direction: column;
    animation: popUp 0.3s cubic-bezier(0.19, 1, 0.22, 1);
    overflow: hidden;
}

.sticker-tabs {
    display: flex; gap: 10px; padding: 10px 15px; overflow-x: auto;
    border-bottom: 1px solid rgba(0,0,0,0.05); flex-shrink: 0;
}
.sticker-tab-item {
    font-size: 13px; color: #888; padding: 5px 10px; border-radius: 12px;
    white-space: nowrap; cursor: pointer; transition: all 0.2s; background: rgba(0,0,0,0.03);
}
.sticker-tab-item.active { background: #333; color: #fff; font-weight: 600; }

.sticker-content {
    flex: 1; overflow-y: auto; padding: 15px;
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;
}

.sticker-item {
    height: 70px; border-radius: 16px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    background: #f9f9; overflow: hidden;
    transition: transform 0.1s;
}
.sticker-item:active { transform: scale(0.95); }
.sticker-img { max-width: 100%; max-height: 100%; object-fit: contain; pointer-events: none; }

.mind-overlay {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(255, 255, 255, 0.4); 
    backdrop-filter: blur(30px) saturate(180%); -webkit-backdrop-filter: blur(30px) saturate(180%);
    z-index: 200; display: flex; flex-direction: column;
    animation: mindFadeIn 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}
@keyframes mindFadeIn { from { opacity: 0; backdrop-filter: blur(0px); } to { opacity: 1; backdrop-filter: blur(30px); } }

.mind-header { flex-shrink: 0; height: 80px; display: flex; align-items: flex-end; justify-content: space-between; padding: 0 24px 15px 24px; }
.mind-title { font-size: 28px; font-weight: 800; letter-spacing: -1px; color: #333; }
.mind-close-btn { width: 36px; height: 36px; border-radius: 50%; background: rgba(0,0,0,0.05); color: #333; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s; }
.mind-close-btn:active { transform: scale(0.9); background: rgba(0,0,0,0.1); }
.mind-stream { flex: 1; overflow-y: auto; padding: 20px 24px 100px 24px; display: flex; flex-direction: column; gap: 24px; }
.mind-card {
    background: rgba(255, 255, 255, 0.65); border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 24px; padding: 20px;
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.05);
    position: relative; transition: all 0.3s ease;
    animation: floatUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    opacity: 0; transform: translateY(20px);
}
@keyframes floatUp { to { opacity: 1; transform: translateY(0); } }
.mind-card:hover { background: rgba(255, 255, 255, 0.9); transform: translateY(-2px); }
.mind-meta { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; opacity: 0.5; }
.mind-avatar { width: 24px; height: 24px; border-radius: 50%; background-size: cover; }
.mind-role { font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }
.mind-text { font-size: 15px; line-height: 1.6; color: #444; font-family: "Georgia", "Songti SC", serif; white-space: pre-wrap; }
.mind-actions { position: absolute; top: 20px; right: 20px; display: flex; gap: 12px; opacity: 0; transition: opacity 0.2s; }
.mind-card:hover .mind-actions { opacity: 1; }
.mind-action-btn { font-size: 16px; color: #999; cursor: pointer; }
.mind-action-btn:hover { color: #333; }
.mind-action-btn.del:hover { color: #ff3b30; }
.mind-empty { height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #aaa; gap: 15px; }
.mind-empty i { font-size: 48px; opacity: 0.3; }
.mind-edit-area { width: 100%; border: none; background: transparent; font-family: inherit; font-size: 15px; line-height: 1.6; color: #333; outline: none; resize: none; border-bottom: 2px solid #007aff; padding-bottom: 5px; }

.context-menu-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999; }
.context-menu {
    position: absolute;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 16px; padding: 6px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    min-width: 140px;
    display: flex; flex-direction: column; gap: 2px;
    transform-origin: top left;
    animation: menuScale 0.15s ease-out;
}
@keyframes menuScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

.menu-item {
    padding: 12px 16px; display: flex; align-items: center; gap: 12px;
    font-size: 14px; font-weight: 500; color: #333;
    border-radius: 12px; cursor: pointer; transition: background 0.2s;
}
.menu-item:active { background: rgba(0,0,0,0.08); }
.menu-item.danger { color: #ff3b30; }
.menu-item i { font-size: 18px; opacity: 0.7; }

.css-preview-box { width: 100%; min-height: 120px; padding: 20px; border-radius: 16px; border: 1px solid rgba(0,0,0,0.1); margin-bottom: 15px; display: flex; flex-direction: column; gap: 15px; background-color: #f9f9f9; background-size: cover; background-position: center; }

/* =========================================
   5. 全局滚动条美化 (Scrollbar Optimization)
   ========================================= */

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.15);
    border-radius: 10px; border: 2px solid transparent; 
    background-clip: content-box; transition: background-color 0.2s;
}
::-webkit-scrollbar-thumb:hover { background-color: rgba(0, 0, 0, 0.35); }
.glass-textarea { padding-right: 8px !important; }
.glass-textarea::-webkit-scrollbar { width: 6px; }
.glass-textarea::-webkit-scrollbar-thumb { background-color: rgba(0, 0, 0, 0.15); border: 2px solid transparent; background-clip: content-box; border-radius: 10px; }

/* =========================================
   6. 设置页面专用样式 (Settings App)
   ========================================= */

.settings-window { height: 100%; display: flex; flex-direction: column; background: #f2f4f6; }
.settings-content { flex: 1; overflow-y: auto; padding: 20px; }
.wallpaper-section { margin-top: 15px; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 15px; }
.wallpaper-uploader { height: 180px !important; }
.wallpaper-edit-badge { top: 10px !important; right: 10px !important; bottom: auto !important; background: rgba(0,0,0,0.5) !important; border: none !important; }
.wallpaper-remove-btn { margin-top: 10px; padding: 12px; font-size: 14px; }
.css-switch-row { margin-top: 15px; }
.css-editor-area { margin-top: 10px; }
.css-editor-area textarea { height: 100px; }
.backup-desc { font-size: 12px; color: #666; margin-bottom: 15px; line-height: 1.4; }
.backup-btn-group { display: flex; gap: 10px; }
.btn-blue { flex: 1; background: #007aff !important; color: white !important; padding: 15px !important; }
.btn-orange { flex: 1; background: #ff9500 !important; color: white !important; padding: 15px !important; }
.margin-top-15 { margin-top: 15px; }
.app-version { text-align: center; font-size: 12px; color: #ccc; margin-top: 20px; }

/* =========================================
   7. 表情包管理器样式 (Sticker Manager)
   ========================================= */

.sticker-grid {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;
    padding-bottom: 80px;
}

.sticker-grid-item {
    aspect-ratio: 1; background: #fff; border-radius: 16px;
    border: 1px solid rgba(0,0,0,0.05);
    display: flex; align-items: center; justify-content: center;
    position: relative; cursor: pointer; overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
    transition: transform 0.1s, border-color 0.2s;
}

.sticker-grid-item:active { transform: scale(0.95); }

/* 未启用状态：黑白 + 降低透明度 */
.sticker-grid-item.inactive {
    background: #f9f9f9;
}
.sticker-grid-item.inactive .sticker-img-preview {
    filter: grayscale(100%);
    opacity: 0.4;
}
.sticker-grid-item.inactive .sticker-name-tag {
    background: rgba(0,0,0,0.2);
    color: #ccc;
}

.sticker-grid-item.add-btn {
    border: 2px dashed #ccc; background: transparent;
    color: #ccc; font-size: 32px; flex-direction: column; gap: 4px;
}
.sticker-grid-item.add-btn span { font-size: 10px; font-weight: 600; }

.sticker-grid-item.folder {
    background: #fff8e1; border-color: #ffe082;
    flex-direction: column; gap: 5px;
}
.folder-icon { font-size: 32px; color: #ffb300; }
.folder-name { font-size: 12px; color: #8d6e63; font-weight: 600; width: 80%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.sticker-img-preview { 
    max-width: 80%; max-height: 80%; object-fit: contain; 
    transition: filter 0.3s ease, opacity 0.3s ease; 
}

.sticker-name-tag {
    position: absolute; bottom: 0; left: 0; right: 0;
    background: rgba(0,0,0,0.6); color: #fff; font-size: 10px;
    padding: 4px; text-align: center; white-space: nowrap;
    overflow: hidden; text-overflow: ellipsis;
    transition: all 0.3s ease;
}

.sticker-select-overlay {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(255,255,255,0.4);
    display: flex; align-items: center; justify-content: center;
    z-index: 10;
}
.sticker-check {
    width: 24px; height: 24px; border-radius: 50%;
    background: #fff; border: 2px solid #ccc;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px; color: transparent; transition: all 0.2s;
}
.sticker-grid-item.selected .sticker-check {
    background: #007aff; border-color: #007aff; color: #fff;
}
.sticker-grid-item.selected { border: 2px solid #007aff; }

.sticker-action-bar {
    position: absolute; bottom: 20px; left: 20px; right: 20px;
    height: 60px; border-radius: 30px;
    background: rgba(30,30,30,0.95); backdrop-filter: blur(20px);
    display: flex; align-items: center; justify-content: space-around;
    color: #fff; box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    z-index: 100; animation: slideUp 0.3s cubic-bezier(0.175,0.885,0.32,1.275);
}

.batch-textarea {
    width: 100%; height: 120px; border-radius: 16px;
    padding: 12px; font-size: 12px; font-family: monospace;
    border: 1px solid rgba(0,0,0,0.1); background: rgba(255,255,255,0.5);
    outline: none; resize: none; margin-bottom: 10px;
}
.batch-textarea:focus { background: #fff; border-color: #333; }

.sticker-crumb {
    display: flex; align-items: center; gap: 5px; padding: 0 5px 10px 5px;
    font-size: 13px; font-weight: 600; color: #888;
}
.crumb-item.active { color: #333; }
.crumb-sep { color: #ccc; }

/* =========================================
   8. 特殊消息气泡 (Special Bubbles)
   ========================================= */

/* --- 双语翻译层 (Translation) --- */
.translation-layer {
    margin-top: 4px; padding-top: 8px;
    border-top: 1px solid rgba(0,0,0,0.08);
    font-size: 13px; opacity: 0.8;
    line-height: 1.5; font-style: italic;
}
.msg-row.me .translation-layer { border-top-color: rgba(255,255,255,0.2); }

/* =========================================
   9. 通用工具类 (Shared Utilities)
   ========================================= */

.danger-btn {
    width: 100%; padding: 18px; border-radius: 24px;
    background: rgba(255, 59, 48, 0.1); color: #ff3b30;
    border: 1px solid rgba(255, 59, 48, 0.2);
    font-size: 16px; font-weight: 600;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    gap: 6px; transition: all 0.2s; margin-top: 10px;
}
.danger-btn:active { background: rgba(255, 59, 48, 0.2); transform: scale(0.98); }

.styled-checkbox {
    appearance: none; -webkit-appearance: none; width: 20px; height: 20px;
    border: 2px solid #999; border-radius: 6px; cursor: pointer;
    position: relative; transition: all 0.2s;
}
.styled-checkbox:checked { background-color: #000; border-color: #000; }
.styled-checkbox:checked::after {
    content: ''; position: absolute; left: 6px; top: 2px;
    width: 5px; height: 10px; border: solid white;
    border-width: 0 2px 2px 0; transform: rotate(45deg);
}

/* 通用居中弹窗 (Center Modal) */
.center-modal-overlay {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.4); 
    z-index: 2000; 
    display: flex; align-items: center; justify-content: center;
    animation: fadeIn 0.2s;
}

.center-modal-box {
    width: 80%; max-width: 300px;
    background: rgba(255, 255, 0.95);
    backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
    border-radius: 24px; padding: 24px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.6);
    display: flex; flex-direction: column; gap: 15px;
    animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
}

@keyframes popIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

/* 全局动画 */
.slide-down-enter-active, .slide-down-leave-active { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.slide-down-enter-from, .slide-down-leave-to { opacity: 0; transform: translateY(-20px) scale(0.95); }
